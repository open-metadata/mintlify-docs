---
title: Run the Grafana Connector Externally
description: Learn to run the Grafana connector externally in Collate. Configure metadata ingestion via YAML, including Service Account Token auth, lineage, and SSL setup.
slug: /connectors/dashboard/grafana/yaml
sidebarTitle: Run Externally
mode: "wide"
---
import { ConnectorDetailsHeader } from '/snippets/components/ConnectorDetailsHeader/ConnectorDetailsHeader.jsx'
import { CodePreview, ContentPanel, ContentSection, CodePanel } from '/snippets/components/CodePreview.jsx'
import WorkflowConfigDef from '/snippets/connectors/yaml/workflow-config-def.mdx'
import IngestionCli from '/snippets/connectors/yaml/ingestion-cli.mdx'
import PythonRequirements from '/snippets/connectors/python-requirements.mdx'
import ExternalIngestionDeployment from '/snippets/connectors/external-ingestion-deployment.mdx'

<ConnectorDetailsHeader
icon='/public/images/connectors/grafana.png'
name="Grafana"
stage="BETA"
availableFeatures={["Dashboards", "Charts", "Owners", "Tags", "Lineage"]}
unavailableFeatures={[]}
/>
In this section, we provide guides and references to use the Grafana connector.
Configure and schedule Grafana metadata and profiler workflows from the OpenMetadata UI:
- [Requirements](#requirements)
- [Metadata Ingestion](#metadata-ingestion)
<ExternalIngestionDeployment />
## Requirements
You will need:
- Grafana 9.0+ (Service Account Tokens)
- Service Account Token with Admin role (for full metadata extraction)
- Network access to Grafana API endpoints
### Python Requirements
<PythonRequirements />
To run the Grafana ingestion, install:
```bash
pip3 install "openmetadata-ingestion[grafana]"
```
## Metadata Ingestion
All connectors are defined as JSON Schemas.
[Here](https://github.com/open-metadata/OpenMetadata/blob/main/openmetadata-spec/src/main/resources/json/schema/entity/services/connections/dashboard/grafanaConnection.json)
you can find the structure to create a connection to Grafana.
In order to create and run a Metadata Ingestion workflow, we will follow
the steps to create a YAML configuration able to connect to the source,
process the Entities if needed, and reach the OpenMetadata server.
### 1. Define the YAML Config
This is a sample config for Grafana:

<CodePreview>

<ContentPanel>

<ContentSection id={1} title="Source Configuration" lines="1-3">

Configure the source type and service name for your Grafana connector.

</ContentSection>

<ContentSection id={2} title="Host Port" lines="7">

**hostPort**: URL or IP address of your Grafana instance.

</ContentSection>

<ContentSection id={3} title="API Key" lines="8">

**apiKey**: Service Account Token for authentication (format: `glsa_xxxxx`). Admin role recommended.

</ContentSection>

<ContentSection id={4} title="Verify SSL" lines="9">

**verifySSL**: (Optional) Whether to verify SSL certificates. Default: true

</ContentSection>

<ContentSection id={5} title="Include Tags" lines="13">

**includeTags**: When set to true, imports Grafana tags as OpenMetadata tags.

</ContentSection>

<ContentSection id={6} title="Lineage Information" lines="14">

Configure database service prefixes for lineage extraction.

</ContentSection>

<ContentSection id={7} title="Source Config" lines="10-15">

<SourceConfigDef />

</ContentSection>

<ContentSection id={8} title="Sink Configuration" lines="16-18">

To send the metadata to OpenMetadata, specify `type: metadata-rest`.

</ContentSection>

<ContentSection id={9} title="Workflow Configuration" lines="19-85">

<WorkflowConfigDef />

</ContentSection>

</ContentPanel>

<CodePanel fileName="grafana_config.yaml">

```yaml
source:
  type: grafana
  serviceName: local_grafana
  serviceConnection:
    config:
      type: Grafana
      hostPort: https://grafana.example.com
      apiKey: glsa_xxxxxxxxxxxxxxxxxxxx
      verifySSL: true
sourceConfig:
  config:
    type: DashboardMetadata
    includeTags: true
    lineageInformation:
      dbServicePrefixes: ["mysql", "postgres"]
sink:
  type: metadata-rest
  config: {}
workflowConfig:
  openMetadataServerConfig:
    hostPort: <OpenMetadata host and port>
    authProvider: <OpenMetadata auth provider>
```

<SourceConfig />
<IngestionSink />
<WorkflowConfig />
</CodePanel>

</CodePreview>
## Securing Grafana Connection with SSL in OpenMetadata
<IngestionCli />

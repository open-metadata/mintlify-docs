---
title: Run the Cassandra Connector Externally
description: Use YAML to ingest metadata from Apache Cassandra, including keyspaces, tables, and columns.
slug: /connectors/database/cassandra/yaml
sidebarTitle: Run Externally
mode: "wide"
---
import { ConnectorDetailsHeader } from '/snippets/components/ConnectorDetailsHeader/ConnectorDetailsHeader.jsx'
import { CodePreview, ContentPanel, ContentSection, CodePanel } from '/snippets/components/CodePreview.jsx'
import IngestionSinkDef from '/snippets/connectors/yaml/ingestion-sink-def.mdx'
import WorkflowConfigDef from '/snippets/connectors/yaml/workflow-config-def.mdx'
import IngestionCli from '/snippets/connectors/yaml/ingestion-cli.mdx'
import PythonRequirements from '/snippets/connectors/python-requirements.mdx'
import ExternalIngestionDeployment from '/snippets/connectors/external-ingestion-deployment.mdx'
import IngestionSink from '/snippets/connectors/yaml/ingestion-sink.mdx'
import WorkflowConfig from '/snippets/connectors/yaml/workflow-config.mdx'
import SourceConfigDef from '/snippets/connectors/yaml/database/source-config-def.mdx'
import SourceConfig from '/snippets/connectors/yaml/database/source-config.mdx'

<ConnectorDetailsHeader
icon='/public/images/connectors/cassandra.webp'
name="Cassandra"
stage="BETA"
availableFeatures={["Metadata"]}
unavailableFeatures={["Query Usage", "Data Quality", "dbt", "Owners", "Lineage", "Column-level Lineage", "Tags", "Stored Procedures","Data Profiler", "Auto-Classification"]} />
In this section, we provide guides and references to use the Cassandra connector.
Configure and schedule Cassandra metadata workflows from the OpenMetadata UI:
- [Requirements](#requirements)
- [Metadata Ingestion](#metadata-ingestion)
- [Enable Security](#securing-cassandra-connection-with-ssl-in-openmetadata)
<ExternalIngestionDeployment />
## Requirements
To extract metadata using the Cassandra connector, ensure the user in the connection has the following permissions:
- Read Permissions: The ability to query tables and perform data extraction.
- Schema Operations: Access to list and describe keyspaces and tables.
### Python Requirements
<PythonRequirements />
To run the Cassandra ingestion, you will need to install:
```bash
pip3 install "openmetadata-ingestion[cassandra]"
```
## Metadata Ingestion
All connectors are defined as JSON Schemas.
[Here](https://github.com/open-metadata/OpenMetadata/blob/main/openmetadata-spec/src/main/resources/json/schema/entity/services/connections/database/cassandraConnection.json)
you can find the structure to create a connection to Cassandra.
In order to create and run a Metadata Ingestion workflow, we will follow
the steps to create a YAML configuration able to connect to the source,
process the Entities if needed, and reach the OpenMetadata server.
The workflow is modeled around the following
[JSON Schema](https://github.com/open-metadata/OpenMetadata/blob/main/openmetadata-spec/src/main/resources/json/schema/metadataIngestion/workflow.json)
### 1. Define the YAML Config

<CodePreview>

<ContentPanel>

<ContentSection id={1} title="Source Configuration" lines="1-3">

Configure the source type and service name for your Cassandra connector.

</ContentSection>

<ContentSection id={2} title="Username" lines="7">

**username**: Username to connect to Cassandra. This user must have the necessary permissions to perform metadata extraction and table queries.

</ContentSection>

<ContentSection id={3} title="Host Port" lines="8">

**hostPort**: When using the `cassandra` connection schema, the hostPort parameter specifies the host and port of the Cassandra. This should be specified as a string in the format `hostname:port`. E.g., `localhost:9042`.

</ContentSection>

<ContentSection id={4} title="Database Name" lines="9">

**databaseName**: Optional name to give to the database in OpenMetadata. If left blank, we will use default as the database name.

</ContentSection>

<ContentSection id={5} title="Basic Authentication" lines="10-11">

**Basic Authentication**: We'll use the user credentials to connect to Cassandra.

**password**: Password of the user.

</ContentSection>

<ContentSection id={6} title="DataStax Astra DB Configuration" lines="12-17">

**DataStax Astra DB Configuration**: Configuration for connecting to DataStax Astra DB in the cloud.

**secureConnectBundle**: File path to the Secure Connect Bundle (.zip) used for a secure connection to DataStax Astra DB.

**token**: The Astra DB application token used for authentication.

**connectTimeout**: Timeout in seconds for establishing new connections to Cassandra.

**requestTimeout**: Timeout in seconds for individual Cassandra requests.

</ContentSection>

<ContentSection id={7} title="Connection Arguments" lines="18">

**Connection Arguments (Optional)**: Enter the details for any additional connection arguments such as security or protocol configs that can be sent to database during the connection. These details must be added as Key-Value pairs.

</ContentSection>

<ContentSection id={8} title="SSL Configuration" lines="21">

The sslConfig and sslMode are used to configure the SSL (Secure Sockets Layer) connection between your application and the Cassandra server.

**caCertificate**: Provide the path to ssl ca file.

**sslCertificate**: Provide the path to ssl client certificate file (ssl_cert).

**sslKey**: Provide the path to ssl client certificate file (ssl_key).

**sslMode**: This field controls whether a secure SSL/TLS connection will be negotiated with the server. There are several modes you can choose:

- disable: No SSL/TLS encryption will be used; the data sent over the network is not encrypted.
- allow: The driver will try to negotiate a non-SSL connection but if the server insists on SSL, it will switch to SSL.
- prefer (the default): The driver will try to negotiate an SSL connection but if the server does not support SSL, it will switch to a non-SSL connection.
- require: The driver will try to negotiate an SSL connection. If the server does not support SSL, the driver will not fall back to a non-SSL connection.
- verify-ca: The driver will negotiate an SSL connection and verify that the server certificate is issued by a trusted certificate authority (CA).
- verify-full: The driver will negotiate an SSL connection, verify that the server certificate is issued by a trusted CA and check that the server host name matches the one in the certificate.

</ContentSection>

<ContentSection id={9} title="Source Config" lines="25-68">

<SourceConfigDef />

</ContentSection>

<ContentSection id={10} title="Sink Configuration" lines="69-71">

<IngestionSinkDef />

</ContentSection>

<ContentSection id={11} title="Workflow Configuration" lines="72-88">

<WorkflowConfigDef />

</ContentSection>

</ContentPanel>

<CodePanel fileName="cassandra_config.yaml">

```yaml
source:
  type: cassandra
  serviceName: local_cassandra
  serviceConnection:
    config:
      type: Cassandra
      username: username  # REQUIRED
      hostPort: localhost:9042  # REQUIRED - format: host:port
      databaseName: custom_database_name
      authType:
        password: password  # Basic Auth
      authType:
        cloudConfig:  # DataStax Astra DB Configuration
          secureConnectBundle: <SCB File Path>
          token: <Token String>
          requestTimeout: <Timeout in seconds>
          connectTimeout: <Timeout in seconds>
      # connectionArguments:
      #   key: value
      # sslConfig:
      #   caCertificate: "path/to/ca/certificate"
      #   sslCertificate: "path/to/ssl/certificate"
      #   sslKey: "path/to/ssl/key"
      # sslMode: disable #allow prefer require verify-ca verify-full
```

<SourceConfig />

<IngestionSink />

<WorkflowConfig />

</CodePanel>

</CodePreview>

<IngestionCli />
## Securing Cassandra Connection with SSL in OpenMetadata
To establish secure connections between OpenMetadata and a Cassandra database, you can use any SSL mode provided by Cassandra, except disable.
Under `Advanced Config`, after selecting the SSL mode, provide the CA certificate, SSL certificate and SSL key.
```yaml
      sslMode: allow
      sslConfig:
            caCertificate: "/path/to/ca/certificate"
            sslCertificate: "/path/to/ssl/certificate"
            sslKey: "/path/to/ssl/key"
```

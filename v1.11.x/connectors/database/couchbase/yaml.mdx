---
title: Run the Couchbase Connector Externally
description: Configure Couchbase ingestion using YAML to extract document-based metadata and support NoSQL governance models.
slug: /connectors/database/couchbase/yaml
sidebarTitle: Run Externally
mode: "wide"
---
import { ConnectorDetailsHeader } from '/snippets/components/ConnectorDetailsHeader/ConnectorDetailsHeader.jsx'
import { CodePreview, ContentPanel, ContentSection, CodePanel } from '/snippets/components/CodePreview.jsx'
import IngestionSinkDef from '/snippets/connectors/yaml/ingestion-sink-def.mdx'
import WorkflowConfigDef from '/snippets/connectors/yaml/workflow-config-def.mdx'
import IngestionCli from '/snippets/connectors/yaml/ingestion-cli.mdx'
import PythonRequirements from '/snippets/connectors/python-requirements.mdx'
import ExternalIngestionDeployment from '/snippets/connectors/external-ingestion-deployment.mdx'
import IngestionSink from '/snippets/connectors/yaml/ingestion-sink.mdx'
import WorkflowConfig from '/snippets/connectors/yaml/workflow-config.mdx'
import SourceConfigDef from '/snippets/connectors/yaml/database/source-config-def.mdx'
import SourceConfig from '/snippets/connectors/yaml/database/source-config.mdx'

<ConnectorDetailsHeader
icon='/public/images/connectors/couchbase.webp'
name="Couchbase"
stage="BETA"
availableFeatures={["Metadata"]}
unavailableFeatures={["Owners", "Tags", "Stored Procedures", "Query Usage", "Lineage", "Column-level Lineage", "Data Profiler", "Data Quality", "dbt", "Sample Data", "Auto-Classification"]} />
In this section, we provide guides and references to use the Couchbase connector.
Configure and schedule Couchbase metadata workflows from the OpenMetadata UI:
- [Requirements](#requirements)
- [Metadata Ingestion](#metadata-ingestion)
<ExternalIngestionDeployment />
## Requirements
### Python Requirements
<PythonRequirements />
To run the Couchbase ingestion, you will need to install:
```bash
pip3 install "openmetadata-ingestion[couchbase]"
```
## Metadata Ingestion
All connectors are defined as JSON Schemas.
[Here](https://github.com/open-metadata/OpenMetadata/blob/main/openmetadata-spec/src/main/resources/json/schema/entity/services/connections/database/couchbaseConnection.json)
you can find the structure to create a connection to Couchbase.
In order to create and run a Metadata Ingestion workflow, we will follow
the steps to create a YAML configuration able to connect to the source,
process the Entities if needed, and reach the OpenMetadata server.
The workflow is modeled around the following
[JSON Schema](https://github.com/open-metadata/OpenMetadata/blob/main/openmetadata-spec/src/main/resources/json/schema/metadataIngestion/workflow.json)
### 1. Define the YAML Config

<CodePreview>

<ContentPanel>

<ContentSection id={1} title="Source Configuration" lines="1-3">

Configure the source type and service name for your Couchbase connector.

</ContentSection>

<ContentSection id={2} title="Username" lines="7">

**username**: Username to connect to Couchbase.

</ContentSection>

<ContentSection id={3} title="Password" lines="8">

**password**: Password to connect to Couchbase.

</ContentSection>

<ContentSection id={4} title="Host Port" lines="9">

**hostport**: If couchbase is hosted on cloud then the hostport parameter specifies the connection string and if you are using couchbase server then the hostport parameter specifies hostname of the Couchbase. This should be specified as a string in the format `hostname` or `xyz.cloud.couchbase.com`. E.g., `localhost`.

</ContentSection>

<ContentSection id={5} title="Bucket Name" lines="10">

**bucketName**: Optional name to give to the bucket name in OpenMetadata. If left blank, we will ingest all the bucket names.

</ContentSection>

<ContentSection id={6} title="Connection Options" lines="11">

**Connection Options (Optional)**: Enter the details for any additional connection options that can be sent to database during the connection. These details must be added as Key-Value pairs.

</ContentSection>

<ContentSection id={7} title="Source Config" lines="13-56">

<SourceConfigDef />

</ContentSection>

<ContentSection id={8} title="Sink Configuration" lines="57-59">

<IngestionSinkDef />

</ContentSection>

<ContentSection id={9} title="Workflow Configuration" lines="60-76">

<WorkflowConfigDef />

</ContentSection>

</ContentPanel>

<CodePanel fileName="couchbase_config.yaml">

```yaml
source:
  type: couchbase
  serviceName: local_couchbase
  serviceConnection:
    config:
      type: Couchbase
      username: username  # REQUIRED
      password: password  # REQUIRED
      hostport: localhost  # REQUIRED
      bucket: custom_bucket_name
      # connectionOptions:
      #   key: value
```

<SourceConfig />

<IngestionSink />

<WorkflowConfig />

</CodePanel>

</CodePreview>

<IngestionCli />
## Related
<Columns cols={2}>
<Card title="Configure Ingestion Externally" href="/deployment/ingestion">
  Deploy, configure, and manage the ingestion workflows externally.
</Card>
</Columns>

---
title: Run the Alation Sink Connector Externally
description: Use YAML to configure AlationSink metadata ingestion and push terms to Alation catalogs.
slug: /connectors/metadata/alationsink/yaml
sidebarTitle: Run Externally
mode: "wide"
---
import { ConnectorDetailsHeader } from '/snippets/components/ConnectorDetailsHeader/ConnectorDetailsHeader.jsx'
import WorkflowConfigDef from '/snippets/connectors/yaml/workflow-config-def.mdx'
import IngestionCli from '/snippets/connectors/yaml/ingestion-cli.mdx'
import PythonRequirements from '/snippets/connectors/python-requirements.mdx'
import ExternalIngestionDeployment from '/snippets/connectors/external-ingestion-deployment.mdx'
import WorkflowConfig from '/snippets/connectors/yaml/workflow-config.mdx'
import { CodePreview, ContentPanel, ContentSection, CodePanel } from '/snippets/components/CodePreview.jsx'

<ConnectorDetailsHeader
icon='/public/images/connectors/alation.webp'
name="AlationSink"
stage="PROD"
availableFeatures={["Metadata"]}
unavailableFeatures={[]} />
In this section, we provide guides and references to use the Alation Sink connector.
Configure and schedule Alation Sink metadata using the yaml:
- [Requirements](#requirements)
- [Data Mapping and Assumptions](#data-mapping-and-assumptions)
- [Metadata Ingestion](#metadata-ingestion)
<ExternalIngestionDeployment />
## Requirements
The connector uses `POST` requests to write the data into Alation.
Hence, an user credentials or an access token with `Source Admin` or `Catalog Admin` or `Server Admin` permissions will be required.
Follow the link [here](https://developer.alation.com/dev/docs/authentication-into-alation-apis#create-via-ui) to create the access token.
## Data Mapping and Assumptions
Following entities are supported and will be mapped to the from OpenMetadata to the entities in Alation.
| Alation Entity               | OpenMetadata Entity          |
| :----------------------------| :--------------------------- |
| Data Source (OCF)            | Database                     |
| Schema                       | Schema                       |
| Table                        | Table                        |
| Columns                      | Columns                      |
### Python Requirements
<PythonRequirements />
To run the Alation Sink ingestion, you will need to install:
```bash
pip3 install "openmetadata-ingestion[alationsink]"
```
## Metadata Ingestion
All connectors are defined as JSON Schemas.
[Here](https://github.com/open-metadata/OpenMetadata/blob/main/openmetadata-spec/src/main/resources/json/schema/entity/services/connections/metadata/alationSinkConnection.json)
you can find the structure to create a connection to Alation Sink.
In order to create and run a Metadata Ingestion workflow, we will follow
the steps to create a YAML configuration able to connect to the source,
process the Entities if needed, and reach the OpenMetadata server.
The workflow is modeled around the following
[JSON Schema](https://github.com/open-metadata/OpenMetadata/blob/main/openmetadata-spec/src/main/resources/json/schema/metadataIngestion/workflow.json)
### 1. Define the YAML Config

<CodePreview>

<ContentPanel>

<ContentSection id={1} title="Source Configuration" lines="1-3">

Configure the source type and service name.

</ContentSection>

<ContentSection id={2} title="Host Port" lines="7">

**hostPort**: Host and port of the Alation service.

</ContentSection>

<ContentSection id={3} title="Authentication Type" lines="10">

**authType**:
Following authentication types are supported:
1. Basic Authentication: We'll use the user credentials to generate the access token required to authenticate Alation APIs.
- username: Username of the user.
- password: Password of the user.
2. Access Token Authentication: The access token created using the steps mentioned [here](https://developer.alation.com/dev/docs/authentication-into-alation-apis#create-via-ui) can directly be entered. We'll use that directly to authenticate the Alation APIs
- accessToken: Generated access token

</ContentSection>

<ContentSection id={4} title="Project Name" lines="16">

**projectName**: Project name to create the refreshToken. Can be anything.

</ContentSection>

<ContentSection id={5} title="Pagination Limit" lines="17">

**paginationLimit**: Pagination limit used for Alation APIs pagination

</ContentSection>

<ContentSection id={6} title="Datasource Links" lines="18">

**datasourceLinks**: Add a custom mapping between OpenMetadata databases and Alation DataSources.
If this mapping is present the connector will only look for the datasource in Alation to create other entities inside it. It will not create the datasource in Alation and it'll need to be created beforehand.
The mapping needs to be of the format `alation_datasource_id: openmetadata_database_fqn`
Here `alation_datasource_id` corresponds to the numerical id of the datasource in alation.
And `openmetadata_database_fqn` corresponds to the fullyQualifiedName of the database in OpenMetadata.
Below is an example of the mapping:
```yaml
datasourceLinks: {
    "23": "sample_data.ecommerce_db",
    "15": "mysql_prod.customers_db",
}
```

</ContentSection>

<ContentSection id={7} title="Source Config" lines="22-24">

Configure the metadata ingestion type as DatabaseMetadata.

</ContentSection>

<ContentSection id={8} title="Sink Configuration" lines="25-27">

To send the metadata to OpenMetadata, it needs to be specified as `type: metadata-rest`.

</ContentSection>

</ContentPanel>

<CodePanel fileName="connector_config.yaml">

```yaml
source:
  type: AlationSink
  serviceName: local_alation_sink
  serviceConnection:
    config:
      type: AlationSink
hostPort: https://alation.example.com
# Select one authentication type from below
      # For Basic Authentication
      authType:
        username: user_name
        password: password
      # # For Access Token Authentication
      # authType:
      #   accessToken: access_token
projectName: Test
paginationLimit: 10
# datasourceLinks: {
      #   "23": "om_service_name.om_db_name",
      #   "24": "om_service_name_two.om_db_name_two",
      # }
sourceConfig:
    config:
      type: DatabaseMetadata
sink:
  type: metadata-rest
  config: {}
```

<WorkflowConfig />
</CodePanel>
</CodePreview>
<IngestionCli />
